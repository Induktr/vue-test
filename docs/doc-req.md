# Документация Требований "Insight Keeper v2.0"

### 1. Введение: Требования как Цели Усвоения Навыков

Этот документ определяет **функциональные (FR)** требования к приложению. Здесь каждое требование — это **конкретная цель усвоения (Принцип 1)** определенного навыка JavaScript/TypeScript/Vue.js.

### 2. Функциональные Требования (FR)

*   **FR-1: Модель Данных Поста**
    *   **FR-1.1:** Модель `Post` должна включать поля `tags: Set<string>`, `priority: number`, `type: 'Insight' | 'Task' | 'Quote'`, `createdAt: Date`.
        *   **Навык:** Расширение моделей, работа с `Set`, `enum` типы, `Date`.

*   **FR-2: Система Тегирования**
    *   **FR-2.1:** Функция `addTags(postId, ...newTags)` должна добавлять новые теги к посту, обеспечивая уникальность в `Set`.
        *   **Навык:** `...rest` параметры, работа с `Set` (`add`, `union`).
    *   **FR-2.2:** `computed`-свойство `allUniqueTags` должно собирать все уникальные теги из всех постов.
        *   **Навык:** `computed`, `Set` (`union`, `...spread`).

*   **FR-3: Система Фильтрации**
    *   **FR-3.1:** `computed`-свойство `filteredPosts` должно фильтровать посты по `searchQuery` (имени) и по выбранному тегу.
        *   **Навык:** `computed`, `filter`, `includes`.

*   **FR-4: Система Аналитики Постов**
    *   **FR-4.1:** Функция `analyzePost(post)` должна анализировать объект поста и возвращать строку с количеством свойств и их типами.
        *   **Навык:** `for...in`, `typeof`, `Object.keys()`.

*   **FR-5: Система Пакетных Операций**
    *   **FR-5.1:** Функция `archiveOldPosts()` должна удалять старые посты до тех пор, пока их количество не достигнет 10.
        *   **Навык:** `while`, `do...while`, `splice` (иммутабельный аналог).

*   **FR-6: Система Приоритетов**
    *   **FR-6.1:** Функция `setPriority(postId, priorityInput)` должна валидировать `priorityInput` как целое число и обновлять приоритет поста.
        *   **Навык:** `Number.isNaN()`, `parseInt()`, `Number.isInteger()`, валидация.
    *   **FR-6.2:** `computed`-свойство `postColor` должно возвращать цвет (`'red'`, `'yellow'`, `'green'`) в зависимости от приоритета поста.
        *   **Навык:** `computed`, `switch...case`.

*   **FR-7: Обновление Пользовательского Интерфейса**
    *   **FR-7.1:** UI должен отображать теги, приоритет, тип и `createdAt` для каждого поста.
    *   **FR-7.2:** UI должен иметь элементы управления для фильтрации по тегам.
    *   **FR-7.3:** UI должен иметь кнопки для запуска пакетных операций (`archiveOldPosts`).

### 3. Нефункциональные Требования (NFR)

*   **NFR-1 (Производительность):** Приложение должно работать плавно без видимых задержек при обновлении или фильтрации постов (до 500 постов).
*   **NFR-2 (Качество Кода):** Код должен быть читаемым, модульным и следовать принципам чистого кода.
*   **NFR-3 (Типобезопасность):** Весь код должен быть строго типизирован TypeScript.

### 4. Ограничения (С)

*   **C-1:** Отсутствует бэкенд. Все данные хранятся в реактивном состоянии Vue.js.
*   **C-2:** Фокус на функциональной логике, а не на исчерпывающем UI-дизайне.